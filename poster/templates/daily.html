<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="æ¯æ—¥æ–°ç•ªæ›´æ–°èµ„è®¯">
    <title>æ–°ç•ªèµ„è®¯</title>
    <link rel="stylesheet" href="minimal-styles.css">
</head>
<body class="poster">
    <!-- è£…é¥°èƒŒæ™¯å…ƒç´  -->
    <div class="bg-decoration" aria-hidden="true">
        <div class="bg-orb orb-1"></div>
        <div class="bg-orb orb-2"></div>
        <div class="bg-orb orb-3"></div>
    </div>
    
    <main class="poster-body">
        <!-- å¤´éƒ¨è£…é¥°åŒºåŸŸ -->
        <header class="hero-section" aria-label="é¡µé¢æ ‡é¢˜">
            <div class="hero-badge">
                <span class="date-badge">{{date}}</span>
                <span class="update-count">{{total_count}}éƒ¨æ›´æ–°</span>
            </div>
            <h1 class="main-title">ä»Šæ—¥æ–°ç•ªæ›´æ–°</h1>
            <p class="hero-subtitle">è¿½ç•ªæ—¶åˆ»ï¼Œç²¾å½©ä¸åœ</p>
        </header>

        <!-- ä¸»ç•ªå‰§æ¨ªå‘å¡ç‰‡ -->
        {{#if main_anime}}
        <article class="featured-anime" aria-labelledby="main-anime-title">
            <div class="featured-cover">
                <img src="{{main_anime.cover_url}}" alt="{{main_anime.title}} å°é¢" loading="eager" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'">
                <div class="cover-placeholder" style="display:none;" aria-hidden="true">
                    <svg class="placeholder-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                        <circle cx="8.5" cy="8.5" r="1.5"/>
                        <polyline points="21 15 16 10 5 21"/>
                    </svg>
                    <span>æš‚æ— å°é¢</span>
                </div>

            </div>
            <div class="featured-info">

                <h2 id="main-anime-title" class="featured-title">{{main_anime.title}}</h2>
                <div class="meta-info">
                    <div class="meta-item meta-score">
                        <svg class="meta-icon" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                        </svg>
                        <span class="meta-value">{{main_anime.score}}</span>
                    </div>
                    <div class="meta-item meta-watchers">
                        <svg class="meta-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                            <circle cx="9" cy="7" r="4"/>
                            <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                        </svg>
                        <span class="meta-value">{{main_anime.watchers}}</span>
                    </div>
                </div>
                {{#if main_anime.summary}}
                <p class="featured-summary">{{main_anime.summary}}</p>
                {{/if}}
            </div>
        </article>
        {{/if}}

        <!-- å…¶ä»–ç•ªå‰§ç½‘æ ¼å¸ƒå±€ -->
        {{#if other_animes}}
        <section class="anime-grid" aria-labelledby="grid-title">
            <div class="section-header">
                <h3 id="grid-title" class="grid-title">æ›´å¤šæ›´æ–°</h3>
                <div class="section-line"></div>
            </div>
            <div class="grid-container">
                {{#each other_animes}}
                <article class="anime-card">
                    <div class="card-cover">
                        <img src="{{cover_url}}" alt="{{title}} å°é¢" loading="eager" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'">
                        <div class="cover-placeholder" style="display:none;" aria-hidden="true">
                            <svg class="placeholder-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                                <circle cx="8.5" cy="8.5" r="1.5"/>
                                <polyline points="21 15 16 10 5 21"/>
                            </svg>
                        </div>

                    </div>
                    <div class="card-info">
                        <h4 class="card-title">{{title}}</h4>
                        <div class="card-meta">
                            <span class="card-score">
                                <svg class="score-icon" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                                </svg>
                                {{score}}
                            </span>

                        </div>
                    </div>
                </article>
                {{/each}}
            </div>
        </section>
        {{/if}}

        <!-- æœªå±•ç¤ºçš„ç•ªå‰§åˆ—è¡¨ -->
        {{#if hidden_animes}}
        <section class="hidden-animes" aria-labelledby="hidden-title">
            <div class="hidden-header">
                <h4 id="hidden-title" class="hidden-title">
                    <svg class="hidden-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                    </svg>
                    è¿˜æœ‰ {{hidden_count}} éƒ¨ç•ªå‰§æ›´æ–°
                </h4>
            </div>
            <div class="hidden-content">
                <div class="hidden-list">
                    <pre class="hidden-text">{{hidden_animes}}</pre>
                </div>
            </div>
        </section>
        {{/if}}

        <!-- ç©ºçŠ¶æ€ -->
        {{#unless has_animes}}
        <section class="empty-state" role="status" aria-label="æ— æ›´æ–°">
            <div class="empty-illustration">
                <div class="empty-tv">
                    <svg viewBox="0 0 120 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect x="10" y="20" width="100" height="70" rx="8" fill="#e2e8f0"/>
                        <rect x="20" y="30" width="80" height="50" rx="4" fill="#cbd5e0"/>
                        <rect x="45" y="90" width="30" height="8" rx="2" fill="#a0aec0"/>
                        <circle cx="100" cy="30" r="3" fill="#f56565"/>
                        <path d="M40 55L55 40L70 55" stroke="#a0aec0" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M55 40V65" stroke="#a0aec0" stroke-width="3" stroke-linecap="round"/>
                    </svg>
                </div>
                <div class="empty-zZZ">ğŸ’¤</div>
            </div>
            <h3 class="empty-title">ä»Šæ—¥æš‚æ— æ–°ç•ªæ›´æ–°</h3>
            <p class="empty-desc">ä¼‘æ¯ä¸€å¤©ï¼Œæ˜å¤©ç»§ç»­è¿½ç•ª~</p>
        </section>
        {{/unless}}

        <!-- åº•éƒ¨ä¿¡æ¯ -->
        <footer class="poster-footer">
            <div class="footer-decoration"></div>
            <div class="source">
                <span class="source-text">Powered by</span>
                <a href="https://bgm.tv" target="_blank" rel="noopener noreferrer" class="source-link">
                    <svg class="source-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/>
                    </svg>
                    bgm.tv
                </a>
                <span class="divider">|</span>
                <span class="generated-time">{{generated_time}}</span>
            </div>
        </footer>
    </main>
</body>
</html>
